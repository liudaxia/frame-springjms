<?xml version="1.0" encoding="UTF-8" ?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
						http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
						http://www.springframework.org/schema/context 
						http://www.springframework.org/schema/context/spring-context-3.0.xsd
	">
	
	<!-- çœŸæ­£å¯ä»¥äº§ç”ŸConnectionçš„ConnectionFactoryï¼Œç”±å¯¹åº”çš?JMSæœåŠ¡åŽ‚å•†æä¾›-->  
	<bean id="targetConnectionFactory" class="org.apache.activemq.ActiveMQConnectionFactory">  
	    <property name="brokerURL" value="tcp://localhost:61616"/>  
	</bean>  
	
	<!-- Springç”¨äºŽç®¡ç†çœŸæ­£çš„ConnectionFactoryçš„ConnectionFactory -->  
	<bean id="connectionFactory" class="org.springframework.jms.connection.SingleConnectionFactory">  
	    <!-- ç›®æ ‡ConnectionFactoryå¯¹åº”çœŸå®žçš„å¯ä»¥äº§ç”ŸJMS Connectionçš„ConnectionFactory -->  
	    <property name="targetConnectionFactory" ref="targetConnectionFactory"/>  
	</bean>  
	
    <!-- Springæä¾›çš„JMSå·¥å…·ç±»ï¼Œå®ƒå¯ä»¥è¿›è¡Œæ¶ˆæ¯å‘é€ã?æŽ¥æ”¶ç­?-->  
    <bean id="jmsTemplate" class="org.springframework.jms.core.JmsTemplate">  
        <!-- è¿™ä¸ªconnectionFactoryå¯¹åº”çš„æ˜¯æˆ‘ä»¬å®šä¹‰çš„Springæä¾›çš„é‚£ä¸ªConnectionFactoryå¯¹è±¡ -->  
        <property name="connectionFactory" ref="connectionFactory"/>  
    </bean>  
	
	<!--è¿™ä¸ªæ˜¯é˜Ÿåˆ—ç›®çš„åœ°ï¼Œç‚¹å¯¹ç‚¹çš?->
	<bean id="queueDestination" class="org.apache.activemq.command.ActiveMQQueue"> 
		<constructor-arg value="queue"/>  
	</bean>  
	<!--è¿™ä¸ªæ˜¯ä¸»é¢˜ç›®çš„åœ°ï¼Œä¸€å¯¹å¤šçš?->  
	<bean id="topicDestination" class="org.apache.activemq.command.ActiveMQTopic">  
	    <constructor-arg value="topic"/>  
	</bean>  
	
	
	<!-- æ¶ˆæ¯ç›‘å¬å™?-->  
	<bean id="consumerMsgListenerServiceImpl" class="com.lcp.service.impl.ConsumerMsgListenerServiceImpl"/>       
  
	<!-- æ¶ˆæ¯ç›‘å¬å®¹å™¨ -->  
	<bean id="jmsContainer"  class="org.springframework.jms.listener.DefaultMessageListenerContainer">  
	    <property name="connectionFactory" ref="connectionFactory" />  
	    <property name="destination" ref="queueDestination" />  
	    <property name="messageListener" ref="consumerMsgListenerServiceImpl" />  
	</bean>  
	
	
</beans>